
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=826e806b86676d155282de3d37188137"></script>
	<script type="text/javascript" src="../js/MarkerTool_min.js"></script>
	<script type="text/javascript" src="../js/CityList_min.js"></script>
	<script	src="../js/jquery-1.11.1.min.js"></script>

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>js百度地图api坐标地址标注功能</title>

</head>
<body>
	
	<div>
		<h2>1.选择位置>2.标注位置>3.保存位置</h2>

		<div class="content">
			<div id="f_container">
				<div id="container"></div>
			</div>
			<div id="allmap" style="width:790px;height:500px;"></div>
			<div style="margin-top: 15px;text-align: right">
				<input type="hidden" id="lat"><input type="hidden" id="lng">
				<input type="button" onclick="saveAddress()" class="btn" value="保存">
				<input type="button" onclick="dhide()" class="btn" value="取消">
			</div>
		</div>
	</div>

</body>
<script type="text/javascript">
var province;
var city;
var district;
var detailaddress;

var marker;

	// 百度地图API功能
	var map = new BMap.Map("allmap");            // 创建Map实例
	map.centerAndZoom('北京',12);                   // 初始化地图,设置城市和地图级别。
	map.enableScrollWheelZoom(true);
	map.addControl(new BMap.ScaleControl({anchor: BMAP_ANCHOR_BOTTOM_RIGHT}));    // 右下比例尺
	map.setDefaultCursor("Crosshair");//鼠标样式

	var cityList = new BMapLib.CityList({
		container: 'container',
		map: map
	});

	map.addEventListener("click", showInfo);

	function showInfo(e){
		map.clearOverlays();
		marker = new BMap.Marker(new BMap.Point(e.point.lng, e.point.lat));  // 创建标注
		map.addOverlay(marker);
		//获取经纬度
		document.getElementById("lng").value = e.point.lng;
		document.getElementById("lat").value = e.point.lat;
		alert(e.point.lng + "," + e.point.lat);
	}
	function savaAddress(){

	}
	

	</script>
	</html>